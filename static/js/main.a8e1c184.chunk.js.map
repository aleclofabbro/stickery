{"version":3,"sources":["ui/templates/Main.tsx","ui/elements/basic/Button.tsx","ui/elements/top-bar/Button.tsx","ui/modules/Modal/Modal.tsx","ui/modules/top-bar/SetBgButton.tsx","hoc/modules/top-bar/SetBgButtonHoc.tsx","hook/fileChooser.tsx","index.tsx","hoc/App.tsx"],"names":["MainTpl","Canvas","TopBar","style","outerStyle","topBarStyle","canvasStyle","position","left","top","right","bottom","backgroundColor","Button","onClick","children","TopBarButton","btnStyle","float","Modal","clickOut","ref","useRef","useEffect","current","div","parent","parentElement","document","body","appendChild","bgClick","useCallback","ev","target","currentTarget","id","bgStyle","modalStyle","SetBgButton","closeModal","isModalOpen","openModal","importFile","SetBgButtonHoc","useState","setModalOpen","fileChoosen","pasteListener","pasteEv","data","clipboardData","files","length","file","addEventListener","removeEventListener","dropListener","dragEv","dataTransfer","inputRef","chooseFile","click","input","createElement","setAttribute","display","changeListener","removeChild","useFileChooser","alert","name","type","size","lastModified","ReactDOM","render","mainProps","useMemo","getElementById","navigator","serviceWorker","register"],"mappings":"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","file":"static/js/main.a8e1c184.chunk.js","sourcesContent":["import React, { CSSProperties, SFC } from 'react'\n\nexport interface MainTpl {\n  TopBar: JSX.Element\n  Canvas: JSX.Element\n}\nexport const MainTpl: SFC<MainTpl> = ({ Canvas, TopBar }) => {\n  return (\n    <div style={outerStyle}>\n      <div style={topBarStyle}>{TopBar}</div>\n      <div style={canvasStyle}>{Canvas}</div>\n    </div>\n  )\n}\nconst outerStyle: CSSProperties = {\n  position: 'fixed',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0\n}\nconst topBarStyle: CSSProperties = {\n  position: 'fixed',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: '95%',\n  backgroundColor: '#262626'\n}\nconst canvasStyle: CSSProperties = {\n  position: 'fixed',\n  left: 0,\n  top: '5%',\n  right: 0,\n  bottom: 0,\n  backgroundColor: '#1a1a1a'\n}\n","import React, { SFC, CSSProperties } from 'react'\n\nexport interface Button {\n  onClick(): unknown\n  style?: CSSProperties\n}\n\nexport const Button: SFC<Button> = ({ onClick, style, children }) => {\n  return (\n    <button onClick={onClick} style={style}>\n      {children}\n    </button>\n  )\n}\n","import React, { SFC, CSSProperties } from 'react'\nimport { Button } from '../basic/Button'\n\nexport interface TopBarButton {\n  onClick(): unknown\n}\nexport const TopBarButton: SFC<TopBarButton> = ({ onClick, children }) => {\n  return (\n    <Button style={btnStyle} onClick={onClick}>\n      {children}\n    </Button>\n  )\n}\nconst btnStyle: CSSProperties = {\n  float: 'left',\n  backgroundColor: 'gray'\n}\n","import React, { CSSProperties, SFC, useRef, useEffect, useCallback } from 'react'\n\nexport interface Modal {\n  clickOut(): unknown\n}\nexport const Modal: SFC<Modal> = ({ clickOut, children }) => {\n  const ref = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    if (ref.current) {\n      const div = ref.current\n      const parent = ref.current.parentElement\n      document.body.appendChild(div)\n      return () => {\n        parent && parent.appendChild(div)\n      }\n    }\n  }, [])\n  const bgClick = useCallback(\n    (ev: React.MouseEvent<HTMLDivElement>) => {\n      if (ev.target !== ev.currentTarget) {\n        return\n      } else {\n        clickOut()\n      }\n    },\n    [clickOut]\n  )\n  return (\n    <div id=\"modal\" ref={ref} style={bgStyle} onClick={bgClick}>\n      <div style={modalStyle}>{children}</div>\n    </div>\n  )\n}\nconst modalStyle: CSSProperties = {\n  position: 'fixed',\n  left: '20%',\n  top: '20%',\n  right: '20%',\n  bottom: '20%',\n  backgroundColor: 'gray'\n}\nconst bgStyle: CSSProperties = {\n  position: 'fixed',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  backgroundColor: 'rgba(0,0,0,0.5)'\n}\n","import React, { SFC } from 'react'\nimport { TopBarButton } from '../../elements/top-bar/Button'\nimport { Modal } from '../Modal/Modal'\nimport { Button } from '../../elements/basic/Button'\n\nexport interface SetBgButton {\n  isModalOpen: boolean\n  openModal(): unknown\n  closeModal(): unknown\n  importFile(): unknown\n}\n\nexport const SetBgButton: SFC<SetBgButton> = ({\n  closeModal,\n  isModalOpen,\n  openModal,\n  importFile\n}) => {\n  return (\n    <>\n      <TopBarButton onClick={openModal}>Sfondo</TopBarButton>\n      {isModalOpen && (\n        <Modal clickOut={closeModal}>\n          <Button onClick={importFile}>scegli file</Button>\n          <br />\n          <span>o incolla</span>\n        </Modal>\n      )}\n    </>\n  )\n}\n","import React, { SFC, useCallback, useState } from 'react'\nimport { useFileChooser } from '../../../hook/fileChooser'\nimport { SetBgButton } from '../../../ui/modules/top-bar/SetBgButton'\n\nexport const SetBgButtonHoc: SFC = () => {\n  const [isModalOpen, setModalOpen] = useState(false)\n  const closeModal = useCallback(() => setModalOpen(false), [])\n  const openModal = useCallback(() => setModalOpen(true), [])\n\n  const getBgFile = useCallback((file: File) => {\n    alert(`\n${file.name}\n${file.type}\n${file.size}\n${file.lastModified}\n`)\n  }, [])\n  const [importFile] = useFileChooser({ fileChoosen: getBgFile })\n  return (\n    <SetBgButton\n      importFile={importFile}\n      closeModal={closeModal}\n      isModalOpen={isModalOpen}\n      openModal={openModal}\n    />\n  )\n}\n","import { useCallback, useEffect, useRef } from 'react'\n\nexport interface Opts {\n  fileChoosen(file: File, by: 'fs' | 'paste' | 'drop'): unknown\n}\n\nexport const useFileChooser = ({ fileChoosen }: Opts): [() => unknown] => {\n  useEffect(() => {\n    const pasteListener = (pasteEv: ClipboardEvent) => {\n      const data = pasteEv.clipboardData\n      if (!(data && data.files && data.files.length > 0)) {\n        return\n      }\n      const file = data.files[0]\n      fileChoosen(file, 'paste')\n    }\n    document.body.addEventListener('paste', pasteListener)\n    return () => {\n      document.body.removeEventListener('paste', pasteListener)\n    }\n  }, [fileChoosen])\n  useEffect(() => {\n    const dropListener = (dragEv: DragEvent) => {\n      const data = dragEv.dataTransfer\n      if (!(data && data.files.length > 0)) {\n        return\n      }\n      const file = data.files[0]\n      fileChoosen(file, 'paste')\n    }\n    document.body.addEventListener('drop', dropListener)\n    return () => {\n      document.body.removeEventListener('drop', dropListener)\n    }\n  }, [fileChoosen])\n\n  const inputRef = useRef<HTMLInputElement | null>(null)\n  const chooseFile = useCallback(() => inputRef.current && inputRef.current.click(), [])\n  useEffect(() => {\n    const input = document.createElement('input')\n    input.setAttribute('type', 'file')\n    input.style.display = 'none'\n    const changeListener = () => {\n      const file = input.files && input.files.length > 0 && input.files[0]\n      if (!file) {\n        return\n      }\n      fileChoosen(file, 'fs')\n    }\n    input.addEventListener('change', changeListener)\n    document.body.appendChild(input)\n    inputRef.current = input\n    return () => {\n      input.removeEventListener('change', changeListener)\n      document.body.removeChild(input)\n      inputRef.current = null\n    }\n  }, [fileChoosen])\n\n  return [chooseFile]\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { App } from './hoc/App'\n// import { defineCustomElements } from '@ionic/pwa-elements/loader'\n// import * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// defineCustomElements(window)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n//serviceWorker.register()\nnavigator.serviceWorker.register('sw.js')\n","import React, { SFC, useMemo } from 'react'\nimport { MainTpl } from '../ui/templates/Main'\nimport { SetBgButtonHoc } from './modules/top-bar/SetBgButtonHoc'\n\nexport const App: SFC = () => {\n  const mainProps = useMemo<MainTpl>(() => {\n    return {\n      TopBar: (\n        <>\n          <SetBgButtonHoc />\n        </>\n      ),\n      Canvas: <div>canvas</div>\n    }\n  }, [])\n\n  return <MainTpl {...mainProps}></MainTpl>\n}\n"],"sourceRoot":""}